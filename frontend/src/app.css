/* Plex Dashboard - Design System
 *
 * Design Direction: Data & Analysis + Utility & Function
 * Cool slate foundation, sharp corners (4/6/8px), borders-only depth,
 * single blue accent, monospace for data values.
 */

/* ==========================================================================
   Design Tokens
   ========================================================================== */

:root {
	/* Typography Scale (4px grid based) */
	--font-size-xs: 0.6875rem;   /* 11px */
	--font-size-sm: 0.75rem;     /* 12px */
	--font-size-base: 0.8125rem; /* 13px */
	--font-size-md: 0.875rem;    /* 14px - body */
	--font-size-lg: 1rem;        /* 16px */
	--font-size-xl: 1.125rem;    /* 18px */
	--font-size-2xl: 1.5rem;     /* 24px */
	--font-size-3xl: 2rem;       /* 32px */

	/* Font Weights */
	--font-weight-normal: 400;
	--font-weight-medium: 500;
	--font-weight-semibold: 600;
	--font-weight-bold: 700;

	/* Font Families */
	--font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
	--font-mono: ui-monospace, 'SF Mono', 'Monaco', 'Cascadia Code', 'Roboto Mono', Menlo, Consolas, monospace;

	/* Spacing (4px grid) */
	--space-1: 4px;
	--space-2: 8px;
	--space-3: 12px;
	--space-4: 16px;
	--space-5: 20px;
	--space-6: 24px;
	--space-8: 32px;
	--space-10: 40px;
	--space-12: 48px;

	/* ==========================================================================
	   Responsive Layout System
	   ==========================================================================

	   Breakpoint Strategy:
	   - Mobile-first: Base styles target mobile/tablet
	   - lg (≥1440px): Large desktop displays
	   - xl (≥1920px): Ultrawide and 4K displays

	   Layout components (sidebar, content) expand progressively at each breakpoint
	   to utilize available screen real estate without overwhelming the UI.

	   Usage in media queries:
	   @media (min-width: 1440px) { ... }  // lg breakpoint
	   @media (min-width: 1920px) { ... }  // xl breakpoint
	   ========================================================================== */

	/* Breakpoints (for reference - CSS doesn't support var() in media queries) */
	--breakpoint-lg: 1440px;
	--breakpoint-xl: 1920px;

	/* Sidebar Width - expands on larger screens for better nav readability */
	--sidebar-width: 220px;           /* Default: mobile/tablet/small desktop */
	--sidebar-width-lg: 260px;        /* ≥1440px: large desktop */
	--sidebar-width-xl: 300px;        /* ≥1920px: ultrawide/4K */

	/* Content Max Width - expands to use screen space on larger displays */
	--content-max-width: 1200px;      /* Default: standard desktop */
	--content-max-width-lg: 1600px;   /* ≥1440px: large desktop */
	--content-max-width-xl: 1800px;   /* ≥1920px: ultrawide/4K */

	/* Border Radius (sharp system: 4/6/8px) */
	--radius-sm: 4px;
	--radius-md: 6px;
	--radius-lg: 8px;

	/* Transitions */
	--transition-fast: 150ms cubic-bezier(0.25, 1, 0.5, 1);
	--transition-base: 200ms cubic-bezier(0.25, 1, 0.5, 1);

	/* Colors - Light Mode (Cool slate foundation) */
	--gray-50: #f8fafc;
	--gray-100: #f1f5f9;
	--gray-200: #e2e8f0;
	--gray-300: #cbd5e1;
	--gray-400: #94a3b8;
	--gray-500: #64748b;
	--gray-600: #475569;
	--gray-700: #334155;
	--gray-800: #1e293b;
	--gray-900: #0f172a;

	/* Semantic Colors - Light Mode */
	--bg-primary: #ffffff;
	--bg-secondary: var(--gray-50);
	--bg-tertiary: var(--gray-100);
	--bg-hover: var(--gray-100);

	--text-primary: var(--gray-900);
	--text-secondary: var(--gray-600);
	--text-muted: var(--gray-400);
	--text-placeholder: var(--gray-500);  /* WCAG AA: 4.6:1 on white */

	--border: var(--gray-200);
	--border-subtle: var(--gray-100);

	/* Single accent color: Blue */
	--accent: #2563eb;
	--accent-hover: #1d4ed8;
	--accent-light: rgba(37, 99, 235, 0.1);

	/* Status colors (muted for data-focused UI) */
	--success: #16a34a;
	--success-light: rgba(22, 163, 74, 0.1);
	--warning: #a16207;  /* Darkened for WCAG AA (5.5:1 on white) - was #ca8a04 (2.9:1) */
	--warning-light: rgba(161, 98, 7, 0.1);
	--danger: #dc2626;
	--danger-light: rgba(220, 38, 38, 0.1);
	--info: #0284c7;
	--info-light: rgba(2, 132, 199, 0.1);
}

/* Dark mode variables */
@media (prefers-color-scheme: dark) {
	:root:not([data-theme="light"]) {
		/* Semantic Colors - Dark Mode */
		--bg-primary: var(--gray-900);
		--bg-secondary: var(--gray-800);
		--bg-tertiary: var(--gray-700);
		--bg-hover: var(--gray-700);

		--text-primary: var(--gray-50);
		--text-secondary: var(--gray-400);
		--text-muted: var(--gray-500);
		--text-placeholder: var(--gray-400);  /* WCAG AA: 5.7:1 on gray-900 */

		/* Borders at 10-15% white opacity for dark mode */
		--border: rgba(255, 255, 255, 0.12);
		--border-subtle: rgba(255, 255, 255, 0.06);

		/* Accent adjusted for dark mode */
		--accent: #3b82f6;
		--accent-hover: #60a5fa;
		--accent-light: rgba(59, 130, 246, 0.15);

		/* Status colors (desaturated for dark mode) */
		--success: #22c55e;
		--success-light: rgba(34, 197, 94, 0.15);
		--warning: #eab308;
		--warning-light: rgba(234, 179, 8, 0.15);
		--danger: #ef4444;
		--danger-light: rgba(239, 68, 68, 0.15);
		--info: #0ea5e9;
		--info-light: rgba(14, 165, 233, 0.15);
	}
}

/* Force dark mode when data-theme="dark" */
:root[data-theme="dark"] {
	/* Semantic Colors - Dark Mode */
	--bg-primary: var(--gray-900);
	--bg-secondary: var(--gray-800);
	--bg-tertiary: var(--gray-700);
	--bg-hover: var(--gray-700);

	--text-primary: var(--gray-50);
	--text-secondary: var(--gray-400);
	--text-muted: var(--gray-500);
	--text-placeholder: var(--gray-400);  /* WCAG AA: 5.7:1 on gray-900 */

	/* Borders at 10-15% white opacity for dark mode */
	--border: rgba(255, 255, 255, 0.12);
	--border-subtle: rgba(255, 255, 255, 0.06);

	/* Accent adjusted for dark mode */
	--accent: #3b82f6;
	--accent-hover: #60a5fa;
	--accent-light: rgba(59, 130, 246, 0.15);

	/* Status colors (desaturated for dark mode) */
	--success: #22c55e;
	--success-light: rgba(34, 197, 94, 0.15);
	--warning: #eab308;
	--warning-light: rgba(234, 179, 8, 0.15);
	--danger: #ef4444;
	--danger-light: rgba(239, 68, 68, 0.15);
	--info: #0ea5e9;
	--info-light: rgba(14, 165, 233, 0.15);
}

/* ==========================================================================
   Responsive Layout - Large Screens
   ==========================================================================

   Updates CSS custom properties at breakpoints for progressive layout expansion.
   Content and sidebar expand to use available space on larger displays.
   ========================================================================== */

/* Large desktop (≥1440px) */
@media (min-width: 1440px) {
	:root {
		--content-max-width: var(--content-max-width-lg);
		--sidebar-width: var(--sidebar-width-lg);
	}
}

/* Ultrawide / 4K (≥1920px) */
@media (min-width: 1920px) {
	:root {
		--content-max-width: var(--content-max-width-xl);
		--sidebar-width: var(--sidebar-width-xl);
	}
}

/* ==========================================================================
   Base Reset
   ========================================================================== */

*,
*::before,
*::after {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
}

html {
	font-family: var(--font-sans);
	font-size: 16px;
	line-height: 1.5;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

body {
	background: var(--bg-primary);
	color: var(--text-primary);
	font-size: var(--font-size-md);
}

/* ==========================================================================
   Typography
   ========================================================================== */

h1, h2, h3, h4, h5, h6 {
	font-weight: var(--font-weight-semibold);
	line-height: 1.25;
	letter-spacing: -0.02em;
}

h1 {
	font-size: var(--font-size-2xl);
}

h2 {
	font-size: var(--font-size-xl);
}

h3 {
	font-size: var(--font-size-lg);
}

/* Data values use monospace with tabular nums */
.data-value {
	font-family: var(--font-mono);
	font-variant-numeric: tabular-nums;
}

/* Label text (uppercase, tracked) */
.label {
	font-size: var(--font-size-xs);
	font-weight: var(--font-weight-medium);
	text-transform: uppercase;
	letter-spacing: 0.05em;
	color: var(--text-muted);
}

/* ==========================================================================
   Cards (borders-only depth)
   ========================================================================== */

.card {
	background: var(--bg-secondary);
	border: 1px solid var(--border);
	border-radius: var(--radius-lg);
	padding: var(--space-4);
}

.card:hover {
	border-color: var(--gray-300);
}

@media (prefers-color-scheme: dark) {
	.card:hover {
		border-color: rgba(255, 255, 255, 0.2);
	}
}

/* ==========================================================================
   Buttons
   ========================================================================== */

.btn {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: var(--space-2);
	padding: var(--space-2) var(--space-3);
	font-size: var(--font-size-base);
	font-weight: var(--font-weight-medium);
	border-radius: var(--radius-md);
	border: 1px solid transparent;
	cursor: pointer;
	transition: all var(--transition-fast);
	white-space: nowrap;
}

.btn:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

.btn-primary {
	background: var(--accent);
	color: white;
	border-color: var(--accent);
}

.btn-primary:hover:not(:disabled) {
	background: var(--accent-hover);
	border-color: var(--accent-hover);
}

.btn-secondary {
	background: transparent;
	color: var(--text-secondary);
	border-color: var(--border);
}

.btn-secondary:hover:not(:disabled) {
	background: var(--bg-hover);
	color: var(--text-primary);
	border-color: var(--gray-300);
}

.btn-danger {
	background: transparent;
	color: var(--danger);
	border-color: var(--danger);
}

.btn-danger:hover:not(:disabled) {
	background: var(--danger);
	color: white;
}

.btn-ghost {
	background: transparent;
	color: var(--text-secondary);
	border-color: transparent;
}

.btn-ghost:hover:not(:disabled) {
	background: var(--bg-hover);
	color: var(--text-primary);
}

/* ==========================================================================
   Status Badges
   ========================================================================== */

.badge {
	display: inline-flex;
	align-items: center;
	padding: 2px var(--space-2);
	font-size: var(--font-size-xs);
	font-weight: var(--font-weight-medium);
	border-radius: var(--radius-sm);
	text-transform: uppercase;
	letter-spacing: 0.02em;
}

.badge-success {
	background: var(--success-light);
	color: var(--success);
}

.badge-warning {
	background: var(--warning-light);
	color: var(--warning);
}

.badge-danger {
	background: var(--danger-light);
	color: var(--danger);
}

.badge-info {
	background: var(--info-light);
	color: var(--info);
}

.badge-neutral {
	background: var(--bg-tertiary);
	color: var(--text-secondary);
}

/* ==========================================================================
   Tables
   ========================================================================== */

.table {
	width: 100%;
	border-collapse: collapse;
}

.table th,
.table td {
	padding: var(--space-3) var(--space-4);
	text-align: left;
	border-bottom: 1px solid var(--border);
}

.table th {
	font-size: var(--font-size-xs);
	font-weight: var(--font-weight-medium);
	text-transform: uppercase;
	letter-spacing: 0.05em;
	color: var(--text-muted);
}

.table tr:hover {
	background: var(--bg-hover);
}

/* ==========================================================================
   Form Inputs
   ========================================================================== */

.input {
	width: 100%;
	padding: var(--space-2) var(--space-3);
	font-size: var(--font-size-md);
	font-family: var(--font-sans);
	border: 1px solid var(--border);
	border-radius: var(--radius-md);
	background: var(--bg-primary);
	color: var(--text-primary);
	transition: border-color var(--transition-fast);
}

.input:focus {
	outline: none;
	border-color: var(--accent);
}

.input::placeholder {
	color: var(--text-placeholder);
}

/* Number inputs with monospace */
input[type="number"] {
	font-family: var(--font-mono);
	font-variant-numeric: tabular-nums;
}

/* Remove number input spinners */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
	-webkit-appearance: none;
	margin: 0;
}

input[type="number"] {
	-moz-appearance: textfield;
}

/* ==========================================================================
   Toast Notifications
   ========================================================================== */

.toast {
	position: fixed;
	bottom: var(--space-6);
	right: var(--space-6);
	padding: var(--space-3) var(--space-4);
	border-radius: var(--radius-md);
	font-size: var(--font-size-base);
	font-weight: var(--font-weight-medium);
	z-index: 1000;
	animation: toastSlideIn var(--transition-base) forwards;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.toast-success {
	background: var(--success);
	color: white;
}

.toast-error {
	background: var(--danger);
	color: white;
}

@keyframes toastSlideIn {
	from {
		transform: translateX(100%);
		opacity: 0;
	}
	to {
		transform: translateX(0);
		opacity: 1;
	}
}

/* ==========================================================================
   Utility Classes
   ========================================================================== */

/* Flex utilities */
.flex { display: flex; }
.flex-col { flex-direction: column; }
.items-center { align-items: center; }
.justify-between { justify-content: space-between; }
.justify-center { justify-content: center; }

/* Gap utilities (4px grid) */
.gap-1 { gap: var(--space-1); }
.gap-2 { gap: var(--space-2); }
.gap-3 { gap: var(--space-3); }
.gap-4 { gap: var(--space-4); }
.gap-6 { gap: var(--space-6); }

/* Margin utilities */
.mb-1 { margin-bottom: var(--space-1); }
.mb-2 { margin-bottom: var(--space-2); }
.mb-3 { margin-bottom: var(--space-3); }
.mb-4 { margin-bottom: var(--space-4); }
.mb-6 { margin-bottom: var(--space-6); }

/* Text utilities */
.text-sm { font-size: var(--font-size-sm); }
.text-base { font-size: var(--font-size-base); }
.text-muted { color: var(--text-secondary); }
.text-mono { font-family: var(--font-mono); font-variant-numeric: tabular-nums; }

/* ==========================================================================
   Spinner Animation
   ========================================================================== */

@keyframes spin {
	to {
		transform: rotate(360deg);
	}
}

.spinner {
	width: 1rem;
	height: 1rem;
	border: 2px solid currentColor;
	border-top-color: transparent;
	border-radius: 50%;
	animation: spin 0.6s linear infinite;
}
